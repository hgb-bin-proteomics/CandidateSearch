\doxysection{Vector\+Search\+Interface.\+Vector\+Search\+API Class Reference}
\hypertarget{class_vector_search_interface_1_1_vector_search_a_p_i}{}\label{class_vector_search_interface_1_1_vector_search_a_p_i}\index{VectorSearchInterface.VectorSearchAPI@{VectorSearchInterface.VectorSearchAPI}}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static int\mbox{[}$\,$\mbox{]} \mbox{\hyperlink{class_vector_search_interface_1_1_vector_search_a_p_i_a590ce87e625ca1e73c5cd4dfdc4c5a19}{search\+CPU}} (ref int\mbox{[}$\,$\mbox{]} candidates\+Values, ref int\mbox{[}$\,$\mbox{]} candidates\+Idx, ref int\mbox{[}$\,$\mbox{]} spectra\+Values, ref int\mbox{[}$\,$\mbox{]} spectra\+Idx, int topN, float tolerance, bool normalize, bool use\+Gaussian\+Tol, bool batched, int batch\+Size, bool use\+Sparse, int cores, int verbose, out int mem\+Stat)
\begin{DoxyCompactList}\small\item\em Calculates the top n candidates for each spectrum on the CPU using Eigen. \end{DoxyCompactList}\item 
static int\mbox{[}$\,$\mbox{]} \mbox{\hyperlink{class_vector_search_interface_1_1_vector_search_a_p_i_a0f85ff8875e0abb9b00dd5ca4d170aaf}{search\+GPU}} (ref int\mbox{[}$\,$\mbox{]} csr\+Rowoffsets, ref int\mbox{[}$\,$\mbox{]} csr\+Col\+Idx, ref int\mbox{[}$\,$\mbox{]} spectra\+Values, ref int\mbox{[}$\,$\mbox{]} spectra\+Idx, int topN, float tolerance, bool normalize, bool use\+Gaussian\+Tol, bool batched, int batch\+Size, bool use\+Sparse, int verbose, out int mem\+Stat)
\begin{DoxyCompactList}\small\item\em Calculates the top n candidates for each spectrum on the (Nvidia) GPU using CUDA. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{_vector_search_a_p_i_8cs_source_l00005}{5}} of file \mbox{\hyperlink{_vector_search_a_p_i_8cs_source}{Vector\+Search\+API.\+cs}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{class_vector_search_interface_1_1_vector_search_a_p_i_a590ce87e625ca1e73c5cd4dfdc4c5a19}\label{class_vector_search_interface_1_1_vector_search_a_p_i_a590ce87e625ca1e73c5cd4dfdc4c5a19} 
\index{VectorSearchInterface.VectorSearchAPI@{VectorSearchInterface.VectorSearchAPI}!searchCPU@{searchCPU}}
\index{searchCPU@{searchCPU}!VectorSearchInterface.VectorSearchAPI@{VectorSearchInterface.VectorSearchAPI}}
\doxysubsubsection{\texorpdfstring{searchCPU()}{searchCPU()}}
{\footnotesize\ttfamily static int\mbox{[}$\,$\mbox{]} Vector\+Search\+Interface.\+Vector\+Search\+API.\+search\+CPU (\begin{DoxyParamCaption}\item[{ref int\mbox{[}$\,$\mbox{]}}]{candidates\+Values,  }\item[{ref int\mbox{[}$\,$\mbox{]}}]{candidates\+Idx,  }\item[{ref int\mbox{[}$\,$\mbox{]}}]{spectra\+Values,  }\item[{ref int\mbox{[}$\,$\mbox{]}}]{spectra\+Idx,  }\item[{int}]{topN,  }\item[{float}]{tolerance,  }\item[{bool}]{normalize,  }\item[{bool}]{use\+Gaussian\+Tol,  }\item[{bool}]{batched,  }\item[{int}]{batch\+Size,  }\item[{bool}]{use\+Sparse,  }\item[{int}]{cores,  }\item[{int}]{verbose,  }\item[{out int}]{mem\+Stat }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculates the top n candidates for each spectrum on the CPU using Eigen. 


\begin{DoxyParams}{Parameters}
{\em candidates\+Values} & An integer array of theoretical ion m/z values for all candidates flattened.\\
\hline
{\em candidates\+Idx} & An integer array that contains indices indicating where each candidate starts in candidates\+Values.\\
\hline
{\em spectra\+Values} & An integer array of peak m/z values from experimental spectra flattened.\\
\hline
{\em spectra\+Idx} & An integer array that contains indices indicating where each spectrum starts in spectra\+Values.\\
\hline
{\em topN} & The number (int) of top candidates that should be returned for each spectrum.\\
\hline
{\em tolerance} & Tolerance used for matching peaks in Dalton (float).\\
\hline
{\em normalize} & Whether or not the candidate scores should be normalized by candidate length (bool).\\
\hline
{\em use\+Gaussian\+Tol} & Whether or not experimental peaks should be modelled as gaussian normal distributions (bool).\\
\hline
{\em batched} & Whether a batched approach (MM) or not (MV) should be used (bool).\\
\hline
{\em batch\+Size} & If a batched approach is used, how big should batches be (integer).\\
\hline
{\em use\+Sparse} & Whether a sparse approach (SPMV/\+SPMM) or not (GEMV/\+GEMM) should be used (bool).\\
\hline
{\em cores} & The number of CPU cores that should be used for computation (int).\\
\hline
{\em verbose} & An integer parameter controlling how often progress should be printed to std\+::out. If 0 no progress will be printed.\\
\hline
{\em mem\+Stat} & An integer out parameter indicating if memory was successfully freed after execution, 0 = success, 1 = error.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An integer array with length (number of spectra \texorpdfstring{$\ast$}{*} topN) containing the indices of the top n candidates for every spectrum.
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_vector_search_a_p_i_8cs_source_l00097}{97}} of file \mbox{\hyperlink{_vector_search_a_p_i_8cs_source}{Vector\+Search\+API.\+cs}}.

\Hypertarget{class_vector_search_interface_1_1_vector_search_a_p_i_a0f85ff8875e0abb9b00dd5ca4d170aaf}\label{class_vector_search_interface_1_1_vector_search_a_p_i_a0f85ff8875e0abb9b00dd5ca4d170aaf} 
\index{VectorSearchInterface.VectorSearchAPI@{VectorSearchInterface.VectorSearchAPI}!searchGPU@{searchGPU}}
\index{searchGPU@{searchGPU}!VectorSearchInterface.VectorSearchAPI@{VectorSearchInterface.VectorSearchAPI}}
\doxysubsubsection{\texorpdfstring{searchGPU()}{searchGPU()}}
{\footnotesize\ttfamily static int\mbox{[}$\,$\mbox{]} Vector\+Search\+Interface.\+Vector\+Search\+API.\+search\+GPU (\begin{DoxyParamCaption}\item[{ref int\mbox{[}$\,$\mbox{]}}]{csr\+Rowoffsets,  }\item[{ref int\mbox{[}$\,$\mbox{]}}]{csr\+Col\+Idx,  }\item[{ref int\mbox{[}$\,$\mbox{]}}]{spectra\+Values,  }\item[{ref int\mbox{[}$\,$\mbox{]}}]{spectra\+Idx,  }\item[{int}]{topN,  }\item[{float}]{tolerance,  }\item[{bool}]{normalize,  }\item[{bool}]{use\+Gaussian\+Tol,  }\item[{bool}]{batched,  }\item[{int}]{batch\+Size,  }\item[{bool}]{use\+Sparse,  }\item[{int}]{verbose,  }\item[{out int}]{mem\+Stat }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculates the top n candidates for each spectrum on the (Nvidia) GPU using CUDA. 


\begin{DoxyParams}{Parameters}
{\em csr\+Rowoffsets} & An integer array of rowoffsets of the CSR sparse matrix with length (rows + 1 = number of candidates + 1).\\
\hline
{\em csr\+Col\+Idx} & An integer array of column indices of the CSR sparse matrix with length (NNZ = total number of theoretical ions).\\
\hline
{\em spectra\+Values} & An integer array of peak m/z values from experimental spectra flattened.\\
\hline
{\em spectra\+Idx} & An integer array that contains indices indicating where each spectrum starts in spectra\+Values.\\
\hline
{\em topN} & The number (int) of top candidates that should be returned for each spectrum.\\
\hline
{\em tolerance} & Tolerance used for matching peaks in Dalton (float).\\
\hline
{\em normalize} & Whether or not the candidate scores should be normalized by candidate length (bool).\\
\hline
{\em use\+Gaussian\+Tol} & Whether or not experimental peaks should be modelled as gaussian normal distributions (bool).\\
\hline
{\em batched} & Whether a batched approach (MM) or not (MV) should be used (bool).\\
\hline
{\em batch\+Size} & If a batched approach is used, how big should batches be (integer).\\
\hline
{\em use\+Sparse} & Whether a sparse approach (SPMV/\+SPMM) or not (GEMV/\+GEMM) should be used (bool).\\
\hline
{\em verbose} & An integer parameter controlling how often progress should be printed to std\+::out. If 0 no progress will be printed.\\
\hline
{\em mem\+Stat} & An integer out parameter indicating if memory was successfully freed after execution, 0 = success, 1 = error.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An integer array with length (number of spectra \texorpdfstring{$\ast$}{*} topN) containing the indices of the top n candidates for every spectrum.
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_vector_search_a_p_i_8cs_source_l00210}{210}} of file \mbox{\hyperlink{_vector_search_a_p_i_8cs_source}{Vector\+Search\+API.\+cs}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
dll/Vector\+Search\+API.\+cs\end{DoxyCompactItemize}
